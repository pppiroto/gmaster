@{
    ViewData["Title"] = "Home Page";
}
@Html.ActionLink("UI Trial", "UiTrial")
<script type="text/javascript" charset="utf-8">
    webix.ui({
        rows: [
            {
                view: "toolbar", id: "mybar", elements: [
                    { view: "button", value: "Btn1", width: 70, click: "btn1_click" },
                    { view: "button", value: "Btn2", width: 70, click: "btn2_click" },
                    { view: "button", value: "Btn3", width: 70, click: "btn3_click" },
                    { view: "button", value: "Clear Form", width: 85, click: '$$("tableform").clear()' }]
            },
            {
                cols: [
                    {
                        rows: [
                            {
                                height: 35,
                                view: "toolbar",
                                elements: [
                                    { view: "text", id: "list_input", label: "Table Filter", css: "fltr", labelWidth: 170 }
                                ]
                            },
                            {
                                view: "list",
                                id: "tablelist",
                                template: "#tablename#",
                                select: true, //enables selection
                                width: 320,
                                height: 600,
                                url: "/api/Tables/@ViewBag.DefaultSchema",
                                ready: function () {

                                }
                            }
                        ]
                    },
                    { view: "resizer" },
                    {
                        rows: [
                            {
                                

                            },
                            { view: "resizer" },
                            {
                                // container: "testA",
                                view: "datatable",
                                id: "recordtable",
                                columns: [
                                    { id: "EMPNO", header: "", css: "rank", adjust: true },
                                    { id: "FIRSTNME", header: "Film title", adjust: true },
                                    { id: "LASTNAME", header: "Released", adjust: true }
                                ],
                                autoheight: true,
                                autowidth: true,
                            }
    
                        ]
                    }
                ]
            }
        ]
    });

    $$("list_input").attachEvent("onTimedKeyPress", function () {
        var value = this.getValue().toLowerCase();
        $$("tablelist").filter(function (obj) {
            return obj.tablename.toLowerCase().indexOf(value) == 0;
        })
    });
    $$("tablelist").attachEvent("onAfterSelect", function (id) {
        
        var schm = $$("tablelist").getItem(id).tabschema;
        var tbl = $$("tablelist").getItem(id).tablename;
        console.log(id + " " + schm + " " + tbl);

        // table reference https://docs.webix.com/api__refs__ui.datatable.html
        var table = $$("recordtable");
        table.clearAll();
        table.load("/api/Tables/" + schm + "/" + tbl);

        window.open("@(Url.Action("Records","Table"))?schema="+schm+"&table=" + tbl);
    });
    function btn1_click() {
    }
    function btn2_click() {
    }
    function btn3_click() {
    }
</script>